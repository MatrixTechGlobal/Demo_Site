
<head>
    <!-- Chart.js CDN -->
    <!-- Chart.js: use local copy to avoid CDN blocking. Download https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js and place it next to this HTML as chart.umd.min.js -->
    <link rel="stylesheet" href="/css/Admin.css" />
    <script src="/js/chart.umd.min.js"></script>

</head>
    <div class="storedash-app">
        <!-- LEFT NAV -->
        <nav class="storedash-nav" aria-label="Main navigation">
            <div class="storedash-logo">YourStore</div>

            <div class="storedash-menu" role="menu">
                <!-- top dashboard link (no submenu) -->
                <div class="storedash-item" role="none">
                    <button class="storedash-link" role="menuitem">Dashboard</button>
                </div>

                <!-- Products (has submenu) -->
                <div class="storedash-item has-sub" aria-expanded="false" role="none">
                    <button class="storedash-link" aria-haspopup="true" aria-controls="submenu-products" type="button">
                        <span>Products</span>
                        <span class="storedash-caret" aria-hidden="true"></span>
                    </button>

                    <div id="submenu-products" class="storedash-submenu" role="menu" aria-hidden="true">
                        <a href="#" role="menuitem">All products</a>
                        <a href="#" role="menuitem">Inventory</a>
                        <a href="#" role="menuitem">Add product</a>
                    </div>
                </div>

                <!-- Orders (has submenu) -->
                <div class="storedash-item has-sub" aria-expanded="false" role="none">
                    <button class="storedash-link" aria-haspopup="true" aria-controls="submenu-orders" type="button">
                        <span>Orders</span>
                        <span class="storedash-caret" aria-hidden="true"></span>
                    </button>

                    <div id="submenu-orders" class="storedash-submenu" role="menu" aria-hidden="true">
                        <a href="#" role="menuitem">All orders</a>
                        <a href="#" role="menuitem">Pending</a>
                        <a href="#" role="menuitem">Returns</a>
                    </div>
                </div>

                <!-- simple links -->
                <div class="storedash-item" role="none"><button class="storedash-link" role="menuitem">Reports</button></div>
                <div class="storedash-item" role="none"><button class="storedash-link" role="menuitem">Customers</button></div>

                <div style="margin-top:auto;color:rgba(255,255,255,0.7);font-size:13px">Signed in as <strong>Anna</strong></div>
            </div>
        </nav>


        <main class="storedash-wrap" id="main">
            <header class="storedash-header">
                <div class="storedash-greeting">
                    <h1 id="sd-greet">Good morning, Anna.</h1>
                    <p id="sd-sub">Here’s your store at a glance today.</p>
                </div>
                <div class="storedash-actions">
                    <button class="storedash-btn" id="sd-refresh">Refresh</button>
                    <button class="storedash-btn" style="background:#0f172a">Open Reports</button>
                </div>
            </header>

            <div class="storedash-grid">
                <section class="storedash-left">

                    <!-- Metrics -->
                    <div class="storedash-card storedash-metrics" role="region" aria-label="Key metrics">
                        <div class="storedash-card" id="card-sales" tabindex="0" aria-describedby="mc-sales">
                            <div class="label">Total Sales (Today)</div>
                            <div class="value" id="m-sales">₹0</div>
                            <div class="trend" id="t-sales"><span class="storedash-trend-up">+0.0%</span> vs yesterday</div>
                            <div class="sr-only" id="mc-sales">Total gross sales for the current day. Includes completed transactions and excludes refunds.</div>
                        </div>

                        <div class="storedash-card" id="card-orders" tabindex="0" aria-describedby="mc-orders">
                            <div class="label">Total Orders</div>
                            <div class="value" id="m-orders">0</div>
                            <div class="trend" id="t-orders"><span class="storedash-trend-up">+0</span> new</div>
                            <div class="sr-only" id="mc-orders">Number of orders placed today across all channels. Click to view order list.</div>
                        </div>

                        <div class="storedash-card" id="card-aov" tabindex="0" aria-describedby="mc-aov">
                            <div class="label">Average Order Value</div>
                            <div class="value" id="m-aov">₹0</div>
                            <div class="trend muted">AOV = revenue / orders</div>
                            <div class="sr-only" id="mc-aov">Average order value calculated as total sales divided by total orders for today.</div>
                        </div>

                        <div class="storedash-card" id="card-cr" tabindex="0" aria-describedby="mc-cr">
                            <div class="label">Conversion Rate</div>
                            <div class="value" id="m-cr">0%</div>
                            <div class="trend muted">visitors → orders (today)</div>
                            <div class="sr-only" id="mc-cr">Percentage of visitors that completed an order today. Calculated as orders divided by sessions.</div>
                        </div>
                    </div>

                    <!-- Live & Orders -->
                    <div class="storedash-row">
                        <div class="storedash-list" aria-live="polite" aria-atomic="true">
                            <h3>Live Activity</h3>
                            <div class="storedash-live">
                                <div style="display:flex;justify-content:space-between;align-items:center">
                                    <div>
                                        <div class="muted">Active visitors</div>
                                        <div class="big" id="live-visitors">0</div>
                                    </div>
                                    <div style="text-align:right">
                                        <div class="muted">Active carts</div>
                                        <div style="font-weight:800" id="live-carts">0</div>
                                    </div>
                                </div>

                                <div style="margin-top:8px">
                                    <div class="muted">Recent events</div>
                                    <div id="live-feed" style="margin-top:8px"></div>
                                </div>
                            </div>

                            <div style="margin-top:12px">
                                <canvas id="chart-sales-mini" class="storedash-chart" role="img" aria-label="Sales trend mini chart" title="Sales trend over past days"></canvas>
                                <div class="muted" style="font-size:12px;margin-top:6px">Sales trend (last 12 periods)</div>
                            </div>
                        </div>

                        <div class="storedash-list">
                            <h3>Orders</h3>
                            <div id="orders-list" style="margin-top:8px"></div>
                            <div style="margin-top:12px" class="muted">Click an order to view details (demo)</div>
                        </div>
                    </div>

                    <!-- Marketing row -->
                    <div class="storedash-row" style="align-items:stretch">
                        <div class="storedash-list">
                            <h3>Traffic Snapshot</h3>
                            <div style="display:flex;gap:12px;align-items:center;margin-top:8px">
                                <div style="flex:1">
                                    <div class="muted">Top source</div>
                                    <div style="font-weight:800" id="top-source">organic</div>
                                </div>
                                <div style="flex:1">
                                    <div class="muted">Sessions (24h)</div>
                                    <div style="font-weight:800" id="sessions">0</div>
                                </div>
                                <div style="flex:1">
                                    <div class="muted">Top campaign</div>
                                    <div style="font-weight:800" id="top-campaign">—</div>
                                </div>
                            </div>

                            <div style="margin-top:10px">
                                <canvas id="chart-traffic" class="storedash-chart-alloc" role="img" aria-label="Traffic over time" title="Traffic over the last periods"></canvas>
                                <div class="muted" style="font-size:12px;margin-top:6px">Sessions by period — helpful to spot spikes from campaigns.</div>
                            </div>
                        </div>

                        <div class="storedash-list">
                            <h3>Customer snapshot</h3>
                            <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
                                <div><span class="muted">New customers</span><div style="font-weight:800" id="new-cust">0</div></div>
                                <div><span class="muted">Returning rate</span><div style="font-weight:800" id="return-rate">0%</div></div>
                                <div><span class="muted">High value buyers</span><div style="font-weight:800" id="high-buyers">0</div></div>
                            </div>
                        </div>
                    </div>

                </section>

                <!-- Right column / aside -->
                <aside class="storedash-aside" aria-label="right column">
                    <div class="panel storedash-alert">
                        <div>
                            <div class="muted">Today</div>
                            <div style="font-weight:800" id="aside-sales">₹0</div>
                            <div class="muted" id="aside-sub">Net revenue after refunds</div>
                        </div>
                        <div class="storedash-badge" id="aside-badge">Live</div>
                    </div>

                    <div class="panel">
                        <div style="display:flex;justify-content:space-between;align-items:center">
                            <h3 style="margin:0;font-size:14px">Low stock alerts</h3>
                            <div class="muted" id="lowcount">0 items</div>
                        </div>
                        <div style="margin-top:10px" class="storedash-lowstock" id="lowstock-list"></div>
                    </div>

                    <div class="panel">
                        <h3 style="margin:0;font-size:14px">Needs attention</h3>
                        <div style="margin-top:8px" id="attention-area">
                            <div class="needs-attention">
                                <div style="display:flex;justify-content:space-between;align-items:center">
                                    <div>
                                        <div style="font-weight:700">2 orders require verification</div>
                                        <div class="muted" style="font-size:13px">Failed COD checks / address mismatch</div>
                                    </div>
                                    <div style="text-align:right">
                                        <div style="font-weight:800;color:var(--sd-danger)">2</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel">
                        <h3 style="margin:0;font-size:14px">Quick actions</h3>
                        <div style="margin-top:8px" class="storedash-quick" id="quick-actions">
                            <button class="quick-btn">Add product</button>
                            <button class="quick-btn">Create order</button>
                            <button class="quick-btn">Send broadcast</button>
                            <button class="quick-btn">Export CSV</button>
                            <button class="quick-btn">Inventory audit</button>
                        </div>
                    </div>
                </aside>
            </div>
        </main>
    </div>
<script src="/js/Admin.js"></script>
